!function($){"use strict";let wpcAjax=wpcFilterFront.wpcAjaxEnabled,wpcStatusCookieName=wpcFilterFront.wpcStatusCookieName,wpcWidgetStatusCookieName=wpcFilterFront.wpcWidgetStatusCookieName,wpcHierachyListCookieName=wpcFilterFront.wpcHierarchyListCookieName,wpcMobileWidth=wpcFilterFront.wpcMobileWidth,wpcPostContainers=wpcFilterFront.wpcPostContainers,wpcAutoScroll=wpcFilterFront.wpcAutoScroll,wpcAutoScrollOffset=wpcFilterFront.wpcAutoScrollOffset,wpcWaitCursor=wpcFilterFront.wpcWaitCursor,wpcPostsPerPage=wpcFilterFront.wpcPostsPerPage,wpcUseSelect2=wpcFilterFront.wpcUseSelect2,wpcWidgetContainer=".wpc-filters-widget-main-wrapper",wpcIsMobile=!1;function removeElement(e){e.fadeTo(100,0,function(){e.slideUp(100,function(){e.remove()})})}function wpcInitSelect2(e){if(void 0===$.fn.select2)return;let t=0;navigator.userAgent.toLowerCase().indexOf("android")>-1&&(t=1/0),$(".wpc-filters-widget-select").select2({dropdownCssClass:"wpc-filter-everything-dropdown",dropdownParent:$("."+e),templateResult:function(e){if(!e.element)return e.text;let t=$(e.element),n=$("<span></span>");return n.addClass(t[0].className),n.text(e.text),n},minimumResultsForSearch:t})}function wpcGetCookie(e){var t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function wpcSetCookie(e,t,n){let i=(n=n||{}).expires;if("number"==typeof i&&i){let e=new Date;e.setTime(e.getTime()+1e3*i),i=n.expires=e}i&&i.toUTCString&&(n.expires=i.toUTCString());let o=e+"="+(t=encodeURIComponent(t));for(let e in n){o+="; "+e;let t=n[e];!0!==t&&(o+="="+t)}document.cookie=o}function wpcDeleteCookie(e){wpcSetCookie(e,null,{expires:-1})}function openFilterContentBox(e){let t=e.next(".wpc-filter-content"),n="wpc-filter-set-"+e.parents(wpcWidgetContainer).data("set");e.addClass("wpc-opened").removeClass("wpc-closed"),t.slideDown({duration:100,complete:function(){$(this).addClass("wpc-opened").removeClass("wpc-closed"),wpcInitSelect2(n)}})}function closeFilterContentBox(e){let t=e.next(".wpc-filter-content");e.removeClass("wpc-opened").addClass("wpc-closed"),t.slideUp({duration:100,complete:function(){$(this).removeClass("wpc-opened").addClass("wpc-closed")}})}function rememberOpened(e,t){let n=wpcGetCookie(t),i=new Array;if(e=e.toString(),void 0===n?n="":i=(n=n.trim()).split(","),-1===(i=i.filter(function(e){return""!=e})).indexOf(e)){i.push(e);let n="";wpcSetCookie(t,n=0===i.length?e:i.join(),{path:"/","max-age":2592e3})}}function forgetOpened(e,t){let n=wpcGetCookie(t);if(e=e.toString(),void 0!==n){let i=n.split(","),o=i.indexOf(e);if(-1!==o){i.splice(o,1),wpcSetCookie(t,i.join(","),{path:"/","max-age":2592e3})}}}function wpcCloseFiltersContainer(e){let t=$(".wpc-filter-set-"+e),n=$(".wpc-filter-set-"+e+" .wpc-filters-widget-content");$(".wpc-open-button-"+e+" .wpc-filters-open-widget").removeClass("wpc-opened"),n.animate({height:0},200,"swing",function(){$("html").removeClass("wpc-overlay-visible");let e="",t=!1;n.parents().each(function(n,i){t=$(i),"undefined"!==(e=t.data("wpczindex"))&&t.css("z-index",e)})}),t.removeClass("wpc-container-opened")}function wpcOpenFiltersContainer(e){let t=$(".wpc-filter-set-"+e),n=$(".wpc-filter-set-"+e+" .wpc-filters-widget-content"),i="",o=!1;if(n.length<1)return!0;n.parents().each(function(e,t){o=$(t),"auto"!==(i=o.css("z-index"))&&o.data("wpczindex",i),o.css("z-index","auto")}),$(".wpc-open-button-"+e+" .wpc-filters-open-widget").addClass("wpc-opened"),$("html").addClass("wpc-overlay-visible"),$("body").data("set",e),n.animate({height:"90%"},200,"swing",function(){}),t.addClass("wpc-container-opened"),$(".wpc-filter-set-"+e+" .wpc-filters-close-button").attr("href",window.location.href)}function wpcOpenContainer(e){let t=$(".wpc-filter-set-"+e);t.length<1?alert("There is no filter widget with ID "+e+" on this page"):t.hasClass("wpc-container-opened")?wpcCloseFiltersContainer(e):wpcOpenFiltersContainer(e)}function wpcShowSpinner(){$(".wpc-spinner, html").addClass("is-active")}function wpcHideSpinner(){$(".wpc-spinner, html").removeClass("is-active")}function wpcInitSlider(e){let t=e.find(".wpc-filters-range-min"),n=e.find(".wpc-filters-range-max"),i=e.find(".wpc-filters-range-slider-control"),o=parseFloat(t.attr("step")),r=parseFloat(t.data("min")),a=parseFloat(n.data("max")),c=parseFloat(t.val()),l=parseFloat(n.val());i.slider({min:r,max:a,values:[c,l],range:!0,step:o,slide:function(e,i){let o=i.values[0],r=i.values[1];t.val(o),n.val(r)},change:function(t){submitSliderForm(t,e)}}),e.submit(function(e){0===$(this).serialize().length&&(e.preventDefault(),window.location.assign(window.location.pathname))})}function submitSliderForm(e,t){if(e.originalEvent){let a=t.find(".wpc-filters-range-min"),c=t.find(".wpc-filters-range-max"),l=t.find(".wpc-filters-range-slider-control");var n=parseFloat(a.val()),i=parseFloat(c.val()),o=l.slider("option","min"),r=l.slider("option","max");if(n===o&&a.attr("disabled",!0),i===r&&c.attr("disabled",!0),wpcAjax){e.preventDefault();let n=t.serialize();wpcSendFilterRequest(t.attr("action")+"?"+n,t.parents(wpcWidgetContainer)),a.attr("disabled",!0),c.attr("disabled",!0)}else e.originalEvent&&t.trigger("submit")}}function wpcSendFilterRequest(link,widget,onComplete){onComplete=void 0!==onComplete&&onComplete,removeElement($(".wpc-front-error"));let requestParams={};requestParams.flrt_ajax_link=link,requestParams.wpcAjaxAction="filter";let setId=widget.data("set"),widgetClass="wpc-filter-set-"+setId,targetPostsContainer=wpcPostContainers.default;void 0!==wpcPostContainers[setId]&&(targetPostsContainer=wpcPostContainers[setId]),$.ajax({method:"POST",data:requestParams,url:link,dataType:"html",beforeSend:function(){wpcWaitCursor&&$("html, body").css("cursor","wait");let e=$(widget).find(".wpc-filters-apply-button");e.removeClass("wpc-posts-loaded");let t=e.attr("href");e.attr("href",link),e.data("href",t),wpcShowSpinner()},complete:function(){!1!==onComplete&&eval(onComplete+"(setId)"),wpcWaitCursor&&$("html, body").css("cursor","auto"),"yes"===wpcUseSelect2&&wpcInitSelect2(widgetClass),$(".wpc-help-tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200,keepAlive:!0,maxWidth:"220px"}),wpcHideSpinner()},success:function(e){if(void 0!==e){let t=$(e='<div class="responseWrapper">'+e+"</div>");if(t.find(targetPostsContainer).length>0&&wpcFilterFront.wpcAjaxEnabled){let n=t.find("title").text(),i=t.find('link[rel="canonical"]').attr("href");if($(targetPostsContainer).html(t.find(targetPostsContainer).html()),$(widget).find(".wpc-filters-apply-button").addClass("wpc-posts-loaded"),t.find(targetPostsContainer).find("h1").length<1&&t.find("h1").length>0&&$("h1")[0].replaceWith(t.find("h1")[0]),t.find(targetPostsContainer).find(".wpc-page-seo-description").length<1){let e=t.find(".wpc-page-seo-description"),n=$(".wpc-page-seo-description");e.length>0&&n.length>0&&$(".wpc-page-seo-description")[0].replaceWith(e[0])}if(t.find(targetPostsContainer).find(".wpc-open-button-"+setId).length<1&&t.find(".wpc-open-button-"+setId+" .wpc-button-inner").length>0){let e=t.find(".wpc-open-button-"+setId+" .wpc-button-inner")[0];$(".wpc-open-button-"+setId+" .wpc-button-inner").replaceWith(e)}void 0!==n&&""!==n&&$(document).attr("title",n),handleMetaTag("description",e),handleMetaTag("robots",e),void 0!==i&&""!==i?$('link[rel="canonical"]').length>0?$('link[rel="canonical"]').attr("href",i):$("head").append('<link rel="canonical" href="'+i+'" />'):$('link[rel="canonical"]').length>0&&$('link[rel="canonical"]').remove(),window.history.pushState({wpcHandler:"wpcFilterEverything"},null,link)}wpcReloadChips(t),wpcReloadWidget(e,widgetClass),$(".wpc-filter-range-form").each(function(e,t){wpcInitSlider($(t))}),$(document).trigger("ready"),wpcFixWoocommerceOrder();let n=t.find("."+widgetClass).find(".wpc-posts-found").data("found");n=parseFloat(n),!wpcIsMobile&&wpcAutoScroll&&n<wpcPostsPerPage[setId]&&targetPostsContainer.length>0&&$("body, html").animate({scrollTop:$(targetPostsContainer).offset().top-wpcAutoScrollOffset}),"undefined"!=typeof elementorFrontend&&$(targetPostsContainer+" .elementor-element").each(function(){elementorFrontend.elementsHandler.runReadyTrigger($(this))})}},error:function(e){wpcHideSpinner();let t=$(widget).find(".wpc-filters-apply-button"),n=t.data("href");t.attr("href",n)}})}function handleMetaTag(e,t){let n=$(t).find('meta[name="'+e+'"]').attr("content");void 0!==n?$('meta[name="'+e+'"]').length>0?$('meta[name="'+e+'"]').attr("content",n):$("head").append('<meta name="'+e+'" content="'+n+'" />'):$('meta[name="'+e+'"]').length>0&&$('meta[name="'+e+'"]').remove()}function wpcFixWoocommerceOrder(){$(".woocommerce-ordering").on("change","select.orderby",function(){$(this).closest("form").submit()})}function wpcReloadWidget(e,t){let n=$(e);!0===wpcIsMobile&&"yes"===wpcFilterFront.showBottomWidget?$(wpcWidgetContainer).each(function(e,t){let i=".wpc-filter-set-"+$(t).data("set"),o=n.find(i+" .wpc-filters-scroll-container"),r=n.find(i+" .wpc-filters-found-posts");o.length>0&&$(i).find(".wpc-filters-scroll-container").replaceWith(o),r.length>0&&$(i).find(".wpc-filters-found-posts").replaceWith(r)}):$(wpcWidgetContainer).each(function(e,t){let i=".wpc-filter-set-"+$(t).data("set"),o=n.find(i);o.length>0&&$(i).replaceWith(o)})}function wpcReloadChips(e){$(".wpc-filter-chips-list").each(function(t,n){let i=".wpc-filter-chips-"+$(n).data("set"),o=e.find(i);$(i).each(function(e,t){let n=$(t);o.length>0&&n.replaceWith(o[e])})}),$(".wpc-chips-locked").removeClass("wpc-chips-locked")}$(document).on("change",'.wpc-filter-content input:not([type="number"]):not([type="submit"]):not([type="radio"])',function(e){let t=$(this).data("wpc-link"),n=$(this).parents(wpcWidgetContainer);wpcAjax?(e.preventDefault(),wpcSendFilterRequest(t,n)):location.href=t}),$(document).on("click",'.wpc-filter-content input[type="radio"]',function(e){let t=$(this).data("wpc-link"),n=$(this).parents(wpcWidgetContainer);wpcAjax?(e.preventDefault(),wpcSendFilterRequest(t,n)):location.href=t}),$(document).on("change",".wpc-filter-content select",function(e){var t=$(this).find("option:selected").data("wpc-link");let n=$(this).parents(wpcWidgetContainer);wpcAjax?wpcSendFilterRequest(t,n):location.href=t}),$(document).on("click",".wpc-filter-chip a",function(e){if(!wpcAjax)return!0;{let t=$(this).attr("href"),n=$(this).parents(".wpc-filter-chips-list").data("set"),i=$(".wpc-filter-set-"+n);e.preventDefault(),wpcSendFilterRequest(t,i)}}),$(document).on("click","i.wpc-toggle-children-list",function(){let e=$(this).data("tid"),t=$(this).parent(".wpc-term-item-content-wrapper"),n=t.parent("li").children("ul.children");t.toggleClass("wpc-opened"),n.is(":visible")?rememberOpened(e,wpcHierachyListCookieName):forgetOpened(e,wpcHierachyListCookieName)}),$(document).on("click",".wpc-filters-overlay",function(){wpcCloseFiltersContainer($("body").data("set"))}),$(document).on("change",'.wpc-filter-range-form input[type="number"]',function(e){let t=$(this).parents(".wpc-filter-range-form"),n=t.find(".wpc-filters-range-min"),i=t.find(".wpc-filters-range-max");var o=parseFloat(n.val()),r=parseFloat(i.val()),a=n.data("min"),c=i.data("max");if(t.hasClass("wpc-form-has-slider")){t.find(".wpc-filters-range-slider-control").slider("option","values",[o,r])}if(o===a&&n.attr("disabled",!0),r===c&&i.attr("disabled",!0),wpcAjax){let e=t.serialize();wpcSendFilterRequest(t.attr("action")+"?"+e,t.parents(wpcWidgetContainer)),n.attr("disabled",!1),i.attr("disabled",!1)}else t.submit()}),$(document).on("click",".wpc-open-close-filters-button",function(e){e.preventDefault();let t=$(this),n=t.data("wid"),i=$(".wpc-filter-set-"+n+" .wpc-filters-widget-content");i.is(":visible")?i.slideUp({duration:100,complete:function(){$(this).addClass("wpc-closed").removeClass("wpc-opened"),t.removeClass("wpc-opened"),wpcSetCookie(wpcWidgetStatusCookieName,null,{path:"/","max-age":2592e3})}}):i.slideDown({duration:100,complete:function(){$(this).addClass("wpc-opened").removeClass("wpc-closed"),t.addClass("wpc-opened"),wpcSetCookie(wpcWidgetStatusCookieName,n,{path:"/","max-age":2592e3})}})}),$(document).on("click",".wpc-filters-apply-button",function(e){e.preventDefault();let t=$(this).parents(wpcWidgetContainer),n=t.data("set"),i=$(".wpc-filter-set-"+n+" .wpc-filters-widget-content"),o=$(this).attr("href"),r=!$(this).hasClass("wpc-posts-loaded");i.animate({height:0},200,"swing",function(){t.removeClass("wpc-container-opened"),$("html").removeClass("wpc-overlay-visible"),$(".wpc-open-button-"+n+" .wpc-filters-open-widget").removeClass("wpc-opened"),r&&(location.href=o)})}),$(document).on("submit",".wpc-filter-range-form",function(e){submitSliderForm(e,$(this))}),$(document).on("click",".wpc-filter-content a",function(e){e.preventDefault();let t=$(this).closest("label").attr("for");$(this).closest("label").parent(".wpc-term-item-content-wrapper").parent(".wpc-term-item").find("#"+t).trigger("click")}),$(document).on("click",".wpc-filters-open-widget",function(e){e.preventDefault(),wpcOpenContainer($(this).data("wid"))}),$(document).on("click",".wpc-filters-close-button",function(e){e.preventDefault();let t=$(this).parents(wpcWidgetContainer),n=t.data("set");if(wpcAjax&&wpcFilterFront.wpcAjaxEnabled){let e=$(this).attr("href");if(e!==$(".wpc-filter-set-"+n+" .wpc-filters-apply-button").attr("href"))return void wpcSendFilterRequest(e,t,"wpcCloseFiltersContainer")}wpcCloseFiltersContainer(n)}),$(document).on("click",".wpc-filter-title button",function(e){e.preventDefault();let t=$(this).parents(".wpc-filter-collapsible"),n=t.parents(".wpc-filters-section").data("fid");t.next(".wpc-filter-content").is(":visible")?(closeFilterContentBox(t),forgetOpened(n,wpcStatusCookieName)):(openFilterContentBox(t),rememberOpened(n,wpcStatusCookieName))}),$(window).resize(function(){window.innerWidth<=wpcMobileWidth?(wpcIsMobile=!0,"yes"===wpcFilterFront.showBottomWidget&&(wpcAjax=!0)):(wpcAjax=wpcFilterFront.wpcAjaxEnabled,wpcIsMobile=!1),"yes"===wpcUseSelect2&&$(wpcWidgetContainer).each(function(e,t){wpcInitSelect2("wpc-filter-set-"+$(t).data("set"))})}),$(document).ready(function(){$(".wpc-filter-range-form").each(function(e,t){wpcInitSlider($(t))}),window.innerWidth<=wpcMobileWidth&&(wpcIsMobile=!0,"yes"===wpcFilterFront.showBottomWidget&&(wpcAjax=!0)),"yes"===wpcUseSelect2&&$(wpcWidgetContainer).each(function(e,t){wpcInitSelect2("wpc-filter-set-"+$(t).data("set"))}),$(".wpc-help-tip").tipTip({attribute:"data-tip",fadeIn:50,fadeOut:50,delay:200,keepAlive:!0,maxWidth:"220px"})}),window.addEventListener("popstate",function(e){"undefined"!==e.state.wpcHandler&&"wpcFilterEverything"===e.state.wpcHandler&&window.location.reload(!0)}),$.fn.tipTip=function(e){var t=$.extend({activation:"hover",keepAlive:!1,maxWidth:"200px",edgeOffset:3,defaultPosition:"bottom",delay:400,fadeIn:200,fadeOut:200,attribute:"title",content:!1,enter:function(){},exit:function(){}},e);if($("#tiptip_holder").length<=0){var n=$('<div id="tiptip_holder" style="max-width:'+t.maxWidth+';"></div>'),i=$('<div id="tiptip_content"></div>'),o=$('<div id="tiptip_arrow"></div>');$("body").append(n.html(i).prepend(o.html('<div id="tiptip_arrow_inner"></div>')))}else n=$("#tiptip_holder"),i=$("#tiptip_content"),o=$("#tiptip_arrow");return this.each(function(){var e=$(this);if(t.content)var r=t.content;else r=e.attr(t.attribute);if(""!=r){t.content||e.removeAttr(t.attribute);var a=!1;function c(){t.enter.call(this),i.html(r),n.hide().removeAttr("class").css("margin","0"),o.removeAttr("style");var c=parseInt(e.offset().top),l=parseInt(e.offset().left),p=parseInt(e.outerWidth()),s=parseInt(e.outerHeight()),d=n.outerWidth(),w=n.outerHeight(),f=Math.round((p-d)/2),u=Math.round((s-w)/2),h=Math.round(l+f),m=Math.round(c+s+t.edgeOffset),g="",C="",v=Math.round(d-12)/2;"bottom"==t.defaultPosition?g="_bottom":"top"==t.defaultPosition?g="_top":"left"==t.defaultPosition?g="_left":"right"==t.defaultPosition&&(g="_right");var b=f+l<parseInt($(window).scrollLeft()),F=d+l>parseInt($(window).width());b&&f<0||"_right"==g&&!F||"_left"==g&&l<d+t.edgeOffset+5?(g="_right",C=Math.round(w-13)/2,v=-12,h=Math.round(l+p+t.edgeOffset),m=Math.round(c+u)):(F&&f<0||"_left"==g&&!b)&&(g="_left",C=Math.round(w-13)/2,v=Math.round(d),h=Math.round(l-(d+t.edgeOffset+5)),m=Math.round(c+u));var x=c+s+t.edgeOffset+w+8>parseInt($(window).height()+$(window).scrollTop()),k=c+s-(t.edgeOffset+w+8)<0;x||"_bottom"==g&&x||"_top"==g&&!k?("_top"==g||"_bottom"==g?g="_top":g+="_top",C=w,m=Math.round(c-(w+5+t.edgeOffset))):(k|("_top"==g&&k)||"_bottom"==g&&!x)&&("_top"==g||"_bottom"==g?g="_bottom":g+="_bottom",C=-12,m=Math.round(c+s+t.edgeOffset)),"_right_top"==g||"_left_top"==g?m+=5:"_right_bottom"!=g&&"_left_bottom"!=g||(m-=5),"_left_top"!=g&&"_left_bottom"!=g||(h+=5),o.css({"margin-left":v+"px","margin-top":C+"px"}),n.css({"margin-left":h+"px","margin-top":m+"px"}).attr("class","tip"+g),a&&clearTimeout(a),a=setTimeout(function(){n.stop(!0,!0).fadeIn(t.fadeIn)},t.delay)}function l(){t.exit.call(this),a&&clearTimeout(a),n.fadeOut(t.fadeOut)}"hover"==t.activation?(e.hover(function(){c()},function(){t.keepAlive&&n.is(":hover")||l()}),t.keepAlive&&n.hover(function(){},function(){l()})):"focus"==t.activation?e.focus(function(){c()}).blur(function(){l()}):"click"==t.activation&&(e.click(function(){return c(),!1}).hover(function(){},function(){t.keepAlive||l()}),t.keepAlive&&n.hover(function(){},function(){l()}))}})}}(jQuery);